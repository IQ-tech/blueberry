@import '../variables'

$grid-fixed-size = 1270px

.grid
	background-color #C0B8FF
	max-width grid-fixed-max-width
	overflow-x hidden

	&--fluid
		background-color orange
		max-width none

	&__container
		display flex
		flex-flow row wrap

		+above(breakpoints-xsmall)
			margin 0 'calc(-%s / 2)' % grid-gutter-xsmall

		+above(breakpoints-medium)
			margin 0 'calc(-%s / 2)' % grid-gutter-medium

	.col
		padding-top 0
		flex-grow 0
		flex-shrink 0

		+above(breakpoints-xsmall)
			flex-basis 'calc((100% / %s))' % grid-columns-xsmall
			padding-left 'calc((%s / 2))' % grid-gutter-xsmall
			padding-right 'calc((%s / 2))' % grid-gutter-xsmall
			padding-bottom grid-gutter-xsmall

		+above(breakpoints-small)
			flex-basis 'calc((100% / %s))' % grid-columns-small

		+above(breakpoints-medium)
			flex-basis 'calc((100% / %s))' % grid-columns-medium
			padding-left 'calc((%s / 2))' % grid-gutter-medium
			padding-right 'calc((%s / 2))' % grid-gutter-medium
			padding-bottom grid-gutter-medium

		for columnSpan in 1 .. 12
			&--span-{columnSpan}
				+above(breakpoints-xsmall)
					if (columnSpan <= grid-columns-xsmall)
						flex-basis 'calc((100% / %s) * %s)' % (grid-columns-xsmall columnSpan)

				+above(breakpoints-small)
					if (columnSpan <= grid-columns-small)
						flex-basis 'calc((100% / %s) * %s)' % (grid-columns-small columnSpan)

				+above(breakpoints-medium)
					if (columnSpan <= grid-columns-medium)
						flex-basis 'calc((100% / %s) * %s)' % (grid-columns-medium columnSpan)

			&--span-{columnSpan}-phone
				+between(breakpoints-xsmall, breakpoints-medium)
					if (columnSpan <= grid-columns-xsmall)
						flex-basis 'calc((100% / %s) * %s)' % (grid-columns-xsmall columnSpan)

			&--span-{columnSpan}-tablet
				+between(breakpoints-medium, breakpoints-large)
					if (columnSpan <= grid-columns-medium)
						flex-basis 'calc((100% / %s) * %s)' % (grid-columns-medium columnSpan)

			&--span-{columnSpan}-desktop
				+above(breakpoints-large)
					flex-basis 'calc((100% / %s) * %s)' % (grid-columns-medium columnSpan)

.demo-content
	background-color #E8E5FF
	width 100%
	height 100px
